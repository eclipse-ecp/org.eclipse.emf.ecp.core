<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
	<modelVersion>4.0.0</modelVersion>
	<groupId>org.eclipse.emf.ecp</groupId>
	<artifactId>q7-non-epp-tests</artifactId>
	<packaging>q7test</packaging>

	<parent>
		<groupId>org.eclipse.emf.ecp</groupId>
		<artifactId>q7tests</artifactId>
		<version>0.0.1-SNAPSHOT</version>
	</parent>

	<properties>
		<aut-base-path>https://hudson.eclipse.org/ecp/job/releaseBranch/lastSuccessfulBuild/artifact/releng/org.eclipse.emf.ecp.products/target/products/</aut-base-path>
	</properties>

	<profiles>
		<profile>
			<id>q7runner</id>
			<activation>
				<activeByDefault>true</activeByDefault>
			</activation>

			<build>
				<plugins>
					<plugin>
						<groupId>com.xored.q7</groupId>
						<artifactId>q7-maven-plugin</artifactId>
						<version>${q7-maven-version}</version>
						<extensions>true</extensions>
						<configuration>
							<q7>
								<version>${q7-runner-version}</version>
								<vmArgs>
									<vmArg>-Dhttp.proxyHost=proxy.eclipse.org</vmArg>
									<vmArg>-Dhttp.proxyPort=9898</vmArg>
									<vmArg>-Dhttps.proxyHost=proxy.eclipse.org</vmArg>
									<vmArg>-Dhttps.proxyPort=9898</vmArg>
								</vmArgs>
							</q7>

							<aut>
								<explicit>${aut-base-path}/org.eclipse.emf.ecp.3x-[platform].zip</explicit>

								<args>
									<arg>-nl</arg>
									<arg>en</arg>
								</args>
							</aut>

							<testOptions>
								<execTimeout>3600</execTimeout>
								<testExecTimeout>8000</testExecTimeout>
							</testOptions>

						</configuration>
					</plugin>
				</plugins>
			</build>
		</profile>

		<profile>
			<id>q7cloud</id>
			<activation>
				<property>
					<name>useCloud</name>
					<value>true</value>
				</property>
			</activation>

			<build>
				<plugins>
					<plugin>
						<groupId>com.xored.q7</groupId>
						<artifactId>q7-server-maven-plugin</artifactId>
						<version>${q7-server-maven-version}</version>
						<extensions>true</extensions>
						<configuration>
							<testFailureIgnore>true</testFailureIgnore>
							<metadata>
								<public>true</public>
								<projectName>EMF Client Platform</projectName>
							</metadata>

							<classifiers>
								<classifier>win32.win32.x86</classifier>
							</classifiers>

							<aut>
								<uri>${aut-base-path}/org.eclipse.emf.ecp.3x-[classifier].[ext]</uri>
							</aut>

							<testOptions>
								<execTimeout>3600</execTimeout>
								<testExecTimeout>8000</testExecTimeout>
							</testOptions>

							<q7client>
								<version>${q7-client-version}</version>
								<vmArgs>
									<vmArg>-Dhttp.proxyHost=proxy.eclipse.org</vmArg>
									<vmArg>-Dhttp.proxyPort=9898</vmArg>
									<vmArg>-Dhttps.proxyHost=proxy.eclipse.org</vmArg>
									<vmArg>-Dhttps.proxyPort=9898</vmArg>
								</vmArgs>
							</q7client>

							<q7server>https://cloud.xored.com</q7server>
						</configuration>
					</plugin>
				</plugins>
			</build>
		</profile>
	</profiles>
</project>
