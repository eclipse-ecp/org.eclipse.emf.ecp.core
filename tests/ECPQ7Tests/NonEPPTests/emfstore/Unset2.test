--- RCPTT testcase ---
Format-Version: 1.0
Contexts: _mY5uUKEgEeKX8e34E6tWIg,_rr2EEFpSEeKcnaHGSt8OwA,_IuFcgFpZEeKcnaHGSt8OwA,_f3qEUVpSEeKcnaHGSt8OwA
Element-Name: Unset2
Element-Type: testcase
Element-Version: 3.0
External-Reference: 
Id: _rtAI4HkvEeO9Ja8zvRhhOQ
Runtime-Version: 1.5.4.201410231434
Save-Time: 12/5/14 5:28 PM
Testcase-Type: ecl

------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac
Content-Type: text/ecl
Entry-Name: .content

get-view "Model Explorer" | get-tree | get-menu "Create new project" | click
with [get-window "Create Project"] {
    get-editbox -after [get-label "Project Name:"] | set-text UnsetTest
    get-button Finish | click
}
get-view "Model Explorer" | get-tree | select UnsetTest | get-menu "New Model Element" | click
with [get-window "Add new model element"] {
    try { get-tree | select "Fan" } -catch { get-tree | select "bowling/Fan" }
    get-button Finish | click
}
with [get-editor Fan] {
    get-label "No text set! Click to set text." | get-property caption | equals "No text set! Click to set text." 
        | verify-true
    get-label "No date set! Click to set date." | get-property caption | equals "No date set! Click to set date." 
        | verify-true
    get-label "No boolean set! Click to set boolean." | get-property caption 
        | equals "No boolean set! Click to set boolean." | verify-true
    get-label "Not set. Click to set!" | get-property caption | equals "Not set. Click to set!" | verify-true
    get-label "No value set! Click to set value." | get-property caption | equals "No value set! Click to set value." 
        | verify-true
    get-label "No link set! Click to set link." | get-property caption | equals "No link set! Click to set link." 
        | verify-true
    get-table | get-property itemCount | equals 0 | verify-true
    get-label "No number set! Click to set number." | get-property caption 
        | equals "No number set! Click to set number." | verify-true
    get-label "No number set! Click to set number." -after [get-label "Money Spent On Tickets"] | get-property caption 
        | equals "No number set! Click to set number." | verify-true
}
get-view "Model Explorer" | get-tree | get-item "UnsetTest/Fan" | get-property childCount | equals 0 | verify-true
get-view "Model Explorer" | get-tree | select UnsetTest | get-menu Share | click
with [get-window "ECPRepository Wizard"] {
    get-button "Select existing repository" | click
    get-button "Next >" | click
    get-table | select "Local EMFStore"
    get-button Finish | click
}
try{
with [get-window "Authentication required"] {
    get-combo -after [get-label Username] | set-text super
    get-editbox -after [get-label Password] | set-text super
    get-button | click
    get-button OK | click
}
} -catch {}
get-window "Share succeeded" | get-button OK | click
get-view "Model Repositories" | get-tree | select "Local EMFStore/UnsetTest" | get-menu "Checkout..." | click
with [get-window Checkout] {
    get-editbox -after [get-label "Project name:"] | set-text UnsetTest2
    get-button Finish | click
}
get-editor Fan | close
get-view "Model Explorer" | get-tree | select "UnsetTest2 \\[trunk, Version 0\\]/Fan" | double-click
with [get-editor Fan] {
    get-label "No text set! Click to set text." | get-property caption | equals "No text set! Click to set text." 
        | verify-true
    get-label "No date set! Click to set date." | get-property caption | equals "No date set! Click to set date." 
        | verify-true
    get-label "No boolean set! Click to set boolean." | get-property caption 
        | equals "No boolean set! Click to set boolean." | verify-true
    get-label "Not set. Click to set!" | get-property caption | equals "Not set. Click to set!" | verify-true
    get-label "No value set! Click to set value." | get-property caption | equals "No value set! Click to set value." 
        | verify-true
    get-label "No link set! Click to set link." | get-property caption | equals "No link set! Click to set link." 
        | verify-true
}
get-editor Fan | close
with [get-view "Model Explorer" | get-tree] {
    select "UnsetTest \\[trunk, Version 0\\]/Fan" | get-menu "Fan Merchandise Merchandise" | click
    select "UnsetTest \\[trunk, Version 0\\]/Fan" | get-menu "Favourite Merchandise Merchandise" | click
}
get-editor Merchandise | close
get-editor Merchandise | close
get-view "Model Explorer" | get-tree | select "UnsetTest \\[trunk, Version 0\\]/Fan/Merchandise" | double-click

with [get-editor Merchandise] {
    get-label "No number set! Click to set number." | get-property caption 
        | equals "No number set! Click to set number." | verify-true
    get-label "No number set! Click to set number." -after [get-label "Serial Number"] | get-property caption 
        | equals "No number set! Click to set number." | verify-true
}
get-view "Model Explorer" | get-tree | get-item "UnsetTest \\[trunk, Version 0\\]/Fan" | get-property childCount 
    | equals 2 | verify-true
get-view "Model Explorer" | get-tree | select "UnsetTest \\[trunk, Version 0\\]" | get-menu Commit | click
get-window Commit | get-button OK | click
get-view "Model Explorer" | get-tree | select "UnsetTest2 \\[trunk, Version 0\\]" | get-menu Update | click
get-window Update | get-button OK | click
get-editor Merchandise | close
get-view "Model Explorer" | get-tree | select [get-item "UnsetTest2 \\[trunk, Version 1\\]/Fan" | get-item Merchandise 
    -index 1] | double-click
with [get-editor Merchandise] {
    get-label "No number set! Click to set number." | get-property caption 
        | equals "No number set! Click to set number." | verify-true
    get-label "No number set! Click to set number." -after [get-label "Serial Number"] | get-property caption 
        | equals "No number set! Click to set number." | verify-true
}
get-view "Model Explorer" | get-tree | get-item "UnsetTest2 \\[trunk, Version 1\\]/Fan" | get-property childCount 
    | equals 2 | verify-true
get-editor Merchandise | close
get-view "Model Explorer" | get-tree | select "UnsetTest \\[trunk, Version 1\\]/Fan" | double-click
with [get-editor Fan] {
    get-button Set | click
    get-button Set | click
    get-button Set | click
    get-label "Not set. Click to set!" | click
    get-button Set | click
    get-label "No link set! Click to set link." | click
    get-button "Create and link" | click
}
with [get-editor Fan] {
    get-button Set | click
    get-button Set | click
}
with [get-editor Fan] {
    get-editbox -after [get-label "Name"] | get-property text | equals "" | verify-true
    get-button "Unset" | get-property tooltip | equals "" | verify-true
}
with [get-editor Fan] {
get-button -after [get-label "No date set! Click to set date."] | click
get-window -from "DateTimeControlSWTRenderer$SetBtnSelectionAdapterExtension.widgetSelected()" | get-date-time 
    | set-value "2014/5/1 0:0:0"
    with [get-date-time] {
        set-value "2013/5/12 18:9:0"
    }
    get-date-time -after [get-label "Date Of Birth"] -index 1 | set-value "2013/5/12 18:9:0"
}
with [get-editor Fan] {
    get-date-time | get-property date | equals "2013/5/12" | verify-true
    get-date-time -after [get-label "Date Of Birth"] -index 1 | get-property time | equals "18:9:0" | verify-true
    get-button "Unset" | get-property tooltip | equals "" | verify-true
    get-button -after [get-label "Has Season Ticket"] | get-property selected | equals false | verify-true
    get-button "Unset" | get-property tooltip | equals "" | verify-true
    get-combo -after [get-label Gender] | get-property selection | equals Female | verify-true
    get-button "Unset" | get-property tooltip | equals "" | verify-true
    get-label "(Not Set)" | get-property caption | equals "(Not Set)" | verify-true
    get-button "Unset" | get-property tooltip | equals "" | verify-true
}
with [get-editor Fan] {
    get-button Delete | get-property tooltip | equals Delete | verify-true
    get-editbox -after [get-label "Number Of Tournaments Visited"] | get-property text | equals 0 | verify-true
    get-button "Unset" | get-property tooltip | equals "" | verify-true
    get-editbox -after [get-label "Money Spent On Tickets"] | get-property text | equals 0 | verify-true
    get-button "Unset" -after [get-label "Money Spent On Tickets"] | get-property tooltip 
        | equals "" | verify-true
}
get-editor Fan | close
get-view "Model Explorer" | get-tree | select "UnsetTest \\[trunk, Version 1\\]/Fan/Merchandise" | double-click
with [get-editor Merchandise] {
    get-button Set | click
    get-button Set | click
}
with [get-editor Merchandise] {
    get-editbox -after [get-label Price] | get-property text | equals "" | verify-true
    get-button "Unset" | get-property tooltip | equals "" | verify-true
    get-editbox -after [get-label "Serial Number"] | get-property text | equals "" | verify-true
    get-button "Unset" -after [get-label "Serial Number"] | get-property tooltip | equals "" 
        | verify-true
}
get-editor Merchandise | close
get-view "Model Explorer" | get-tree | select "UnsetTest \\[trunk, Version 1\\]" | get-menu Commit | click
get-window Commit | get-button OK | click
get-view "Model Explorer" | get-tree | select "UnsetTest2 \\[trunk, Version 1\\]" | get-menu Update | click
get-window Update | get-button OK | click
get-view "Model Explorer" | get-tree | select "UnsetTest2 \\[trunk, Version 2\\]/Fan" | double-click

with [get-editor Fan] {
     get-editbox -after [get-label Name] | get-property text | equals "" | verify-true
    get-button "Unset" | get-property caption | equals "Unset" | verify-true
    get-date-time | get-property date | equals "2013/5/12" | verify-true
    get-date-time -after [get-label "Date Of Birth"] -index 1 | get-property time | equals "18:9:0" | verify-true
    get-button "Unset" | get-property caption | equals "Unset" | verify-true
    with [get-control Any -index 45] {
        get-property enablement | equals true | verify-true
        get-property containMenu | equals false | verify-true
        get-property borderWith | equals 0 | verify-true
        get-property backgroundColor | equals "#FFFFFF" | verify-true
        get-property foregroundColor | equals "#4C4C4C" | verify-true
    }
    get-combo -after [get-label Gender] | get-property selection | equals Female | verify-true
    get-button "Unset" | get-property tooltip | equals "" | verify-true
    get-button -after [get-label "Has Season Ticket"] | get-property selected | equals false | verify-true
    get-button "Unset" | get-property tooltip | equals "" | verify-true
    get-button "Unset" | get-property tooltip | equals "" | verify-true
    get-label "(Not Set)" | get-property caption | equals "(Not Set)" | verify-true
    get-editbox -after [get-label "Number Of Tournaments Visited"] | get-property text | equals 0 | verify-true
    get-editbox -after [get-label "Money Spent On Tickets"] | get-property text | equals "0" | verify-true
}
------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac--
