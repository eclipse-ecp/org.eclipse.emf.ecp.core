<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
	<modelVersion>4.0.0</modelVersion>
	<groupId>org.eclipse.emf.ecp</groupId>
	<artifactId>q7-epp-tests</artifactId>
	<packaging>pom</packaging>

	<parent>
		<groupId>org.eclipse.emf.ecp</groupId>
		<artifactId>q7tests</artifactId>
		<version>0.0.1-SNAPSHOT</version>
	</parent>

	<modules>
		<module>update-site</module>
	</modules>
	<properties>
		<emfstore-update-site>http://download.eclipse.org/emf-store/releases_14</emfstore-update-site>
	</properties>
	<profiles>
		<profile>
			<id>q7runner</id>
			<activation>
				<activeByDefault>true</activeByDefault>
			</activation>
			<build>
				<plugins>
					<plugin>
						<groupId>com.xored.q7</groupId>
						<artifactId>q7-maven-plugin</artifactId>
						<version>${q7-maven-version}</version>
						<extensions>true</extensions>
						<configuration>
							<q7>
								<version>${q7-runner-version}</version>
								<clientId>jfaltermeier</clientId>
								<clientSecret>2a216714ef4e7dac6237a2eb9c30c57a6d26f81c</clientSecret>
								<organization>EMFClientPlatform</organization>
								<vmArgs>
									<vmArg>-Dhttp.proxyHost=proxy.eclipse.org</vmArg>
									<vmArg>-Dhttp.proxyPort=9898</vmArg>
									<vmArg>-Dhttps.proxyHost=proxy.eclipse.org</vmArg>
									<vmArg>-Dhttps.proxyPort=9898</vmArg>
								</vmArgs>
							</q7>

							<aut>
								<injections>
									<injection>
										<site>${emfstore-update-site}</site>
										<features>
											<feature>org.eclipse.emf.emfstore.server.feature.feature.group</feature>
											<feature>org.eclipse.emf.emfstore.ecore.feature.feature.group</feature>
											<feature>org.eclipse.emf.emfstore.example.feature.feature.group</feature>
											<feature>org.eclipse.emf.emfstore.client.feature.feature.group</feature>
											<feature>org.eclipse.emf.emfstore.common.feature.feature.group</feature>
											<feature>org.eclipse.emf.emfstore.client.transaction.feature.feature.group</feature>
											<feature>org.eclipse.emf.emfstore.client.ui.feature.feature.group</feature>
										</features>
									</injection>
									<injection>
										<site>https://hudson.eclipse.org/ecp/job/releaseBranch/lastSuccessfulBuild/artifact/releng/org.eclipse.emf.ecp.repository/target/repository/</site>
										<features>
											<feature>org.eclipse.emf.ecp.sdk.feature.feature.group</feature>
										</features>
									</injection>
								</injections>
							</aut>
							<testOptions>
								<execTimeout>3600</execTimeout>
								<testExecTimeout>600</testExecTimeout>
							</testOptions>

						</configuration>
					</plugin>
				</plugins>
			</build>
		</profile>

		<profile>
			<id>q7cloud</id>
			<activation>
				<property>
					<name>useCloud</name>
					<value>true</value>
				</property>
			</activation>
			<build>
				<plugins>
					<plugin>
						<groupId>com.xored.q7</groupId>
						<artifactId>q7-server-maven-plugin</artifactId>
						<version>${q7-server-maven-version}</version>
						<extensions>true</extensions>
						<configuration>
							<testFailureIgnore>true</testFailureIgnore>
							<metadata>
								<public>true</public>
								<projectName>EMF Client Platform</projectName>
							</metadata>
							<q7client>
								<version>${q7-client-version}</version>
								<clientId>jfaltermeier</clientId>
								<clientSecret>2a216714ef4e7dac6237a2eb9c30c57a6d26f81c</clientSecret>
								<organization>EMFClientPlatform</organization>
								<vmArgs>
									<vmArg>-Dhttp.proxyHost=proxy.eclipse.org</vmArg>
									<vmArg>-Dhttp.proxyPort=9898</vmArg>
									<vmArg>-Dhttps.proxyHost=proxy.eclipse.org</vmArg>
									<vmArg>-Dhttps.proxyPort=9898</vmArg>
								</vmArgs>
							</q7client>
							<q7server>cloud.xored.com</q7server>
							<aut>
								<injections>
									<injection>
										<site>${emfstore-update-site}</site>
										<features>
											<feature>org.eclipse.emf.emfstore.server.feature.feature.group</feature>
											<feature>org.eclipse.emf.emfstore.ecore.feature.feature.group</feature>
											<feature>org.eclipse.emf.emfstore.example.feature.feature.group</feature>
											<feature>org.eclipse.emf.emfstore.client.feature.feature.group</feature>
											<feature>org.eclipse.emf.emfstore.common.feature.feature.group</feature>
											<feature>org.eclipse.emf.emfstore.client.transaction.feature.feature.group</feature>
											<feature>org.eclipse.emf.emfstore.client.ui.feature.feature.group</feature>
										</features>
									</injection>
									<injection>
										<site>https://hudson.eclipse.org/ecp/job/releaseBranch/lastSuccessfulBuild/artifact/releng/org.eclipse.emf.ecp.repository/target/repository/</site>
										<features>
											<feature>org.eclipse.emf.ecp.sdk.feature.feature.group</feature>
										</features>
									</injection>
								</injections>
							</aut>
							<testOptions>
								<execTimeout>3600</execTimeout>
								<testExecTimeout>600</testExecTimeout>
							</testOptions>
						</configuration>
					</plugin>
				</plugins>
			</build>
		</profile>
	</profiles>
</project>
